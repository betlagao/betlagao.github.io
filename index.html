<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>God-Level Aviator Demo</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
  margin:0;
  font-family: Arial, sans-serif;
  background:#0b1220;
  color:white;
  text-align:center;
}
header{
  background:#101a33;
  padding:20px;
  font-size:24px;
  font-weight:bold;
}
.balance{
  margin:10px;
  font-size:18px;
}
canvas{
  background:#101a33;
  border:1px solid #555;
  display:block;
  margin:20px auto;
  border-radius:10px;
}
button{
  padding:12px 25px;
  font-size:18px;
  margin:10px;
  border:none;
  border-radius:12px;
  cursor:pointer;
  font-weight:bold;
}
.startBtn{background:#00ff99;color:#000;}
.cashoutBtn{background:#ff3d00;color:#fff;}
.footer{
  margin-top:20px;
  font-size:12px;
  opacity:0.7;
}
</style>
</head>
<body>

<header>üéÆ God-Level Aviator Demo</header>

<div class="balance">Balance: <span id="bal">1000</span> Coins</div>

<canvas id="gameCanvas" width="360" height="300"></canvas>

<button class="startBtn" onclick="startGame()">START</button>
<button class="cashoutBtn" onclick="cashOut()">CASH OUT</button>

<div class="footer">‚ö†Ô∏è Demo only ‚Äì No real money</div>

<!-- Sounds -->
<audio id="startSound" src="start.mp3"></audio>
<audio id="cashoutSound" src="cashout.mp3"></audio>
<audio id="crashSound" src="crash.mp3"></audio>

<script>
let balance = 1000;
let running = false;
let multiplier = 1.0;
let crashAt = 0;
let animationFrame;
let points = [];

const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

function startGame(){
  if(running) return;
  running = true;
  multiplier = 1.0;
  points = [];
  crashAt = (Math.random() * 6 + 1.5).toFixed(2); // random crash 1.5‚Äì7.5x
  document.getElementById("startSound").play();
  animate();
}

function animate(){
  if(!running) return;

  // increment multiplier
  multiplier += 0.05;
  points.push(multiplier);

  // check crash
  if(multiplier.toFixed(2) >= crashAt){
    running = false;
    cancelAnimationFrame(animationFrame);
    drawGraph(true); // draw final crash
    alert("üí• Crashed at x"+crashAt+"! You LOSE 100");
    balance -= 100;
    document.getElementById("bal").innerText = balance;
    document.getElementById("crashSound").play();
    return;
  }

  drawGraph(false);
  animationFrame = requestAnimationFrame(animate);
}

function cashOut(){
  if(!running) return;
  running = false;
  cancelAnimationFrame(animationFrame);
  let win = Math.floor(100 * multiplier);
  balance += win;
  document.getElementById("bal").innerText = balance;
  alert("üí∞ Cashed out at x"+multiplier.toFixed(2)+"! You WIN "+win);
  document.getElementById("cashoutSound").play();
}

function drawGraph(crashed){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  ctx.beginPath();
  ctx.moveTo(0, canvas.height - 20);
  for(let i=0;i<points.length;i++){
    let x = i*10;
    let y = canvas.height - points[i]*30;
    ctx.lineTo(x, y);
  }
  ctx.strokeStyle = crashed ? "red" : "#00ff99";
  ctx.lineWidth = 3;
  ctx.stroke();

  // draw plane
  let planeX = (points.length-1)*10;
  let planeY = canvas.height - points[points.length-1]*30;
  ctx.font = "30px Arial";
  ctx.fillText("‚úàÔ∏è", planeX, planeY);

  // draw multiplier text
  ctx.font = "20px Arial";
  ctx.fillStyle = "#00ff99";
  ctx.fillText("x"+multiplier.toFixed(2), planeX-15, planeY-20);
}
</script>

</body>
</html>
